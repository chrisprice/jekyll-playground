---
author: Colin Eberhardt
tags: charts, D3, performance, toolkit, visiblox, visifire
permalink: /blog/colin/2010/12/visiblox-visifire-dynamicdatadisplay-charting-performance-comparison/index.html
layout: colineberhardt-blog
---
<div class="entry"><div class="topsy_widget_data topsy_theme_light-green" style="float: right; margin-left: 0.75em; background: url(data:,%7B%20%22url%22%3A%20%22http%253A%252F%252Fwww.scottlogic.co.uk%252Fblog%252Fcolin%252F2010%252F12%252Fvisiblox-visifire-dynamicdatadisplay-charting-performance-comparison%252F%22%2C%20%22style%22%3A%20%22big%22%2C%20%22title%22%3A%20%22Visiblox%2C%20Visifire%2C%20DynamicDataDisplay%20-%20Charting%20Performance%20Comparison%20%23%22%20%7D);"></div><p>A few weeks ago I <a href="{{ site.url }}/blog/colin/2010/11/visiblox-charts-vs-silverlight-toolkit-charts-a-test-of-performance-2/">published a blog post</a> which compared the performance of the <a href="http://www.visiblox.com/">Visiblox</a> charts and the <a href="http://silverlight.codeplex.com/">Silverlight Toolkit</a> charts. The results indicated that the Visblox charts are considerably faster than the Toolkit charts, however Microsoft’s David Anson did point out that the Toolkit charts were not designed <a href="{{ site.url }}/blog/colin/2010/11/visiblox-charts-vs-silverlight-toolkit-charts-a-test-of-performance-2/#comment-25026">with performance in mind</a>, and that a comparison would be more fair if the ‘FastLineSeries’ series that has been on the TODO list for a while were implemented.</p><div style="background-color: #ddd; margin: 10px; padding: 20px;">
<b>UPDATE:</b> I have published a more up-to-date and <a href="{{ site.url }}/blog/colin/2012/04/wpf-charting-performance-comparisons-the-battle-continues/">extensive test of WPF charting components in a more recent blog post</a>. This new test looks at how raster-graphics can be used to significantly enhance performance.
</div><p>I have been asked by a few people to extend the performance test to include a few other Silverlight charts to see how they compare. I have refactored the test code so that different charts can be plugged in more easily. This not only makes it easier to test the performance of other charting components, but has also allowed me to compare the different charting APIs more easily. </p><p>This blog post compares the performance of <a href="http://www.visiblox.com/">Visiblox</a>, <a href="http://www.visifire.com/">Visifire</a>, <a href="http://silverlight.codeplex.com/">Silverlight Toolkit</a> and <a href="http://dynamicdatadisplay.codeplex.com/">Dynamic Data Display</a> (D<sub>3</sub>) charts. I also compared a few other charting components, however the terms of their trial license prohibit me from publishing the results.</p><p>A summary of the performance measurement is given below, where each chart is used to plot rapidly changing data, with the framerate being used as a measure of performance.</p><p><img src="http://www.scottlogic.co.uk/blog/colin/wp-content/uploads/2010/12/performance.png" alt="" title="performance" width="520" height="313" class="aligncenter size-full wp-image-1026" /></p><p>The test clients running with each of the different charts are shown below:</p><table>
<tr>
<th style="text-align: center;">
Visiblox Chart
</th>
<th style="text-align: center;">
Visifire Chart
</th>
</tr>
<tr>
<td>
<div style="text-align: center; margin: 0 0 40px 0;"><object width="300" height="430" data="data:application/x-silverlight," type="application/x-silverlight-2"><param name="source" value="http://www.scottlogic.co.uk/blog/colin/wp-content/uploads/2010/12/HistogramVisiblox.xap" /><a href="http://go.microsoft.com/fwlink/?LinkID=124807" style="text-decoration: none;"> <img src="http://go.microsoft.com/fwlink/?LinkId=108181" alt="Get Microsoft Silverlight" style="border-style: none;" /></a></object></div>
</td>
<td>
<div style="text-align: center; margin: 0 0 40px 0;"><object width="300" height="430" data="data:application/x-silverlight," type="application/x-silverlight-2"><param name="source" value="http://www.scottlogic.co.uk/blog/colin/wp-content/uploads/2010/12/HistogramVisifire.xap" /><a href="http://go.microsoft.com/fwlink/?LinkID=124807" style="text-decoration: none;"> <img src="http://go.microsoft.com/fwlink/?LinkId=108181" alt="Get Microsoft Silverlight" style="border-style: none;" /></a></object></div>
</td>
</tr>
<tr>
<th style="text-align: center;">
Silverlight Toolkit Chart
</th>
<th style="text-align: center;">
D<sub>3</sub> Chart
</th>
</tr>
<tr>
<td>
<div style="text-align: center; margin: 0 0 20px 0;"><object width="300" height="430" data="data:application/x-silverlight," type="application/x-silverlight-2"><param name="source" value="http://www.scottlogic.co.uk/blog/colin/wp-content/uploads/2010/12/HistogramToolkit.xap" /><a href="http://go.microsoft.com/fwlink/?LinkID=124807" style="text-decoration: none;"> <img src="http://go.microsoft.com/fwlink/?LinkId=108181" alt="Get Microsoft Silverlight" style="border-style: none;" /></a></object></div>
</td>
<td>
<div style="text-align: center; margin: 0 0 20px 0;"><object width="300" height="430" data="data:application/x-silverlight," type="application/x-silverlight-2"><param name="source" value="http://www.scottlogic.co.uk/blog/colin/wp-content/uploads/2010/12/HistogramDDD.xap" /><a href="http://go.microsoft.com/fwlink/?LinkID=124807" style="text-decoration: none;"> <img src="http://go.microsoft.com/fwlink/?LinkId=108181" alt="Get Microsoft Silverlight" style="border-style: none;" /></a></object></div>
</td>
</tr>
</table><p><small>[cheetah image courtesy of <a href="http://www.flickr.com/photos/38485387@N02/3580728177/sizes/m/in/photostream/">flickrfavorites</a>, snail image courtesy of <a href="http://www.flickr.com/photos/powi/749366522/sizes/m/in/photostream/">Per Ola Wiberg</a>, tortoise image courtesy of <a href="http://www.flickr.com/photos/wwarby/4011400171/sizes/m/in/photostream/">wwarby</a>, horse image courtesy of <a href="http://www.flickr.com/photos/greendalen/1428399622/sizes/m/in/photostream/">Linnéa Gröndalen</a>]</small></p><p>We’ll look at the XAML markup for each chart and the code-behind used to add data to each chart in the following sections:</p><h2>Visiblox</h2><p>The XAML markup for the Visiblox charts is reasonably concise, with the X &amp; Y axes configured and styled and the three LineSeries added to the chart:</p><div class="wp_syntax"><table><tr><td class="code"><pre class="xml" style="font-family: monospace;"><span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;UserControl.Resources<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
  <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;Style</span> <span style="color: #000066;">TargetType</span>=<span style="color: #ff0000;">"Line"</span> <span style="color: #000066;">x:Key</span>=<span style="color: #ff0000;">"GridLineStyle"</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>
    <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;Setter</span> <span style="color: #000066;">Property</span>=<span style="color: #ff0000;">"Stroke"</span> <span style="color: #000066;">Value</span>=<span style="color: #ff0000;">"#dddddd"</span> <span style="color: #000000; font-weight: bold;">/&gt;</span></span>
    <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;Setter</span> <span style="color: #000066;">Property</span>=<span style="color: #ff0000;">"StrokeThickness"</span> <span style="color: #000066;">Value</span>=<span style="color: #ff0000;">"1"</span> <span style="color: #000000; font-weight: bold;">/&gt;</span></span>
  <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/Style<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/UserControl.Resources<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
&nbsp;
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;Grid</span> <span style="color: #000066;">x:Name</span>=<span style="color: #ff0000;">"LayoutRoot"</span> <span style="color: #000066;">Background</span>=<span style="color: #ff0000;">"White"</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>
  <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;chart:Chart</span> <span style="color: #000066;">x:Name</span>=<span style="color: #ff0000;">"chart"</span></span>
<span style="color: #009900;">                  <span style="color: #000066;">LegendVisibility</span>=<span style="color: #ff0000;">"Collapsed"</span></span>
<span style="color: #009900;">                  <span style="color: #000066;">Margin</span>=<span style="color: #ff0000;">"5,0,5,5"</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>
    <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;chart:Chart.XAxis<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
      <span style="color: #808080; font-style: italic;">&lt;!-- a 'hidden' X axis --&gt;</span>
      <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;chart:LinearAxis</span> <span style="color: #000066;">ShowAxis</span>=<span style="color: #ff0000;">"False"</span></span>
<span style="color: #009900;">                            <span style="color: #000066;">GridlineStyle</span>=<span style="color: #ff0000;">"{StaticResource GridLineStyle}"</span><span style="color: #000000; font-weight: bold;">/&gt;</span></span>
    <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/chart:Chart.XAxis<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
    <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;chart:Chart.YAxis<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
      <span style="color: #808080; font-style: italic;">&lt;!-- A Y axis with labels within the chart area --&gt;</span>
      <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;chart:LinearAxis</span> <span style="color: #000066;">ShowLabels</span>=<span style="color: #ff0000;">"True"</span></span>
<span style="color: #009900;">                            <span style="color: #000066;">LabelsPosition</span>=<span style="color: #ff0000;">"Inside"</span></span>
<span style="color: #009900;">                            <span style="color: #000066;">GridlineStyle</span>=<span style="color: #ff0000;">"{StaticResource GridLineStyle}"</span></span>
<span style="color: #009900;">                            <span style="color: #000066;">ShowMajorTicks</span>=<span style="color: #ff0000;">"False"</span></span>
<span style="color: #009900;">                            <span style="color: #000066;">ShowMinorTicks</span>=<span style="color: #ff0000;">"False"</span><span style="color: #000000; font-weight: bold;">/&gt;</span></span>
    <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/chart:Chart.YAxis<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
    <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;chart:Chart.Series<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
      <span style="color: #808080; font-style: italic;">&lt;!-- the series used to render the RGB components --&gt;</span>
      <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;chart:LineSeries</span> <span style="color: #000066;">LineStroke</span>=<span style="color: #ff0000;">"#A00"</span><span style="color: #000000; font-weight: bold;">/&gt;</span></span>
      <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;chart:LineSeries</span> <span style="color: #000066;">LineStroke</span>=<span style="color: #ff0000;">"#0A0"</span><span style="color: #000000; font-weight: bold;">/&gt;</span></span>
      <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;chart:LineSeries</span> <span style="color: #000066;">LineStroke</span>=<span style="color: #ff0000;">"#00A"</span><span style="color: #000000; font-weight: bold;">/&gt;</span></span>
    <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/chart:Chart.Series<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
  <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/chart:Chart<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/Grid<span style="color: #000000; font-weight: bold;">&gt;</span></span></span></pre></td></tr></table></div><p>The code-behind is also reasonably concise with the list of <code>DataPoint</code> objects returned by the test-harness converted into Visiblox <code>DataSeries</code> via a Linq <code>Select</code> projection.</p><div class="wp_syntax"><table><tr><td class="code"><pre class="csharp" style="font-family: monospace;"><span style="color: #0600FF; font-weight: bold;">protected</span> <span style="color: #0600FF; font-weight: bold;">override</span> <span style="color: #6666cc; font-weight: bold;">void</span> RenderDataToChart<span style="color: #008000;">(</span>List<span style="color: #008000;">&lt;</span>List<span style="color: #008000;">&lt;</span>Histogram<span style="color: #008000;">.</span><span style="color: #0000FF;">DataPoint</span><span style="color: #008000;">&gt;&gt;</span> rgbData<span style="color: #008000;">)</span>
<span style="color: #008000;">{</span>
  _chart<span style="color: #008000;">.</span><span style="color: #0000FF;">Chart</span><span style="color: #008000;">.</span><span style="color: #0000FF;">Series</span><span style="color: #008000;">[</span><span style="color: #FF0000;">0</span><span style="color: #008000;">]</span><span style="color: #008000;">.</span><span style="color: #0000FF;">DataSeries</span> <span style="color: #008000;">=</span> ListToSeries<span style="color: #008000;">(</span>rgbData<span style="color: #008000;">[</span><span style="color: #FF0000;">0</span><span style="color: #008000;">]</span><span style="color: #008000;">)</span><span style="color: #008000;">;</span>
  _chart<span style="color: #008000;">.</span><span style="color: #0000FF;">Chart</span><span style="color: #008000;">.</span><span style="color: #0000FF;">Series</span><span style="color: #008000;">[</span><span style="color: #FF0000;">1</span><span style="color: #008000;">]</span><span style="color: #008000;">.</span><span style="color: #0000FF;">DataSeries</span> <span style="color: #008000;">=</span> ListToSeries<span style="color: #008000;">(</span>rgbData<span style="color: #008000;">[</span><span style="color: #FF0000;">1</span><span style="color: #008000;">]</span><span style="color: #008000;">)</span><span style="color: #008000;">;</span>
  _chart<span style="color: #008000;">.</span><span style="color: #0000FF;">Chart</span><span style="color: #008000;">.</span><span style="color: #0000FF;">Series</span><span style="color: #008000;">[</span><span style="color: #FF0000;">2</span><span style="color: #008000;">]</span><span style="color: #008000;">.</span><span style="color: #0000FF;">DataSeries</span> <span style="color: #008000;">=</span> ListToSeries<span style="color: #008000;">(</span>rgbData<span style="color: #008000;">[</span><span style="color: #FF0000;">2</span><span style="color: #008000;">]</span><span style="color: #008000;">)</span><span style="color: #008000;">;</span>
<span style="color: #008000;">}</span>
&nbsp;
<span style="color: #0600FF; font-weight: bold;">private</span> DataSeries<span style="color: #008000;">&lt;</span><span style="color: #6666cc; font-weight: bold;">double</span>, <span style="color: #6666cc; font-weight: bold;">double</span><span style="color: #008000;">&gt;</span> ListToSeries<span style="color: #008000;">(</span>List<span style="color: #008000;">&lt;</span>Histogram<span style="color: #008000;">.</span><span style="color: #0000FF;">DataPoint</span><span style="color: #008000;">&gt;</span> data<span style="color: #008000;">)</span>
<span style="color: #008000;">{</span>
  <span style="color: #0600FF; font-weight: bold;">return</span> <span style="color: #008000;">new</span> DataSeries<span style="color: #008000;">&lt;</span><span style="color: #6666cc; font-weight: bold;">double</span>, <span style="color: #6666cc; font-weight: bold;">double</span><span style="color: #008000;">&gt;</span><span style="color: #008000;">(</span>data<span style="color: #008000;">.</span><span style="color: #0600FF; font-weight: bold;">Select</span><span style="color: #008000;">(</span>pt <span style="color: #008000;">=&gt;</span> 
    <span style="color: #008000;">new</span> DataPoint<span style="color: #008000;">&lt;</span><span style="color: #6666cc; font-weight: bold;">double</span>, <span style="color: #6666cc; font-weight: bold;">double</span><span style="color: #008000;">&gt;</span><span style="color: #008000;">(</span>pt<span style="color: #008000;">.</span><span style="color: #0000FF;">Location</span>, pt<span style="color: #008000;">.</span><span style="color: #0000FF;">Intensity</span><span style="color: #008000;">)</span><span style="color: #008000;">)</span><span style="color: #008000;">)</span><span style="color: #008000;">;</span>
<span style="color: #008000;">}</span></pre></td></tr></table></div><h2>Visifire</h2><p>Visifire also has a reasonably concise XAML markup, however in order to provide maximum performance, there are a number of chart features that need to be disabled. The Visifire charts have a Line series which could be used for this comparison, however they recently released a <a href="http://www.visifire.com/documentation/Visifire_Documentation/Chart_Types/QuickLine_Chart.htm">QuickLine</a> series type which removes certain features to provide better performance.</p><div class="wp_syntax"><table><tr><td class="code"><pre class="xml" style="font-family: monospace;"><span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;Grid</span> <span style="color: #000066;">x:Name</span>=<span style="color: #ff0000;">"LayoutRoot"</span> <span style="color: #000066;">Background</span>=<span style="color: #ff0000;">"White"</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>
  <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;vc:Chart</span> <span style="color: #000066;">x:Name</span>=<span style="color: #ff0000;">"chart"</span></span>
<span style="color: #009900;">                <span style="color: #000066;">AnimationEnabled</span>=<span style="color: #ff0000;">"False"</span></span>
<span style="color: #009900;">                <span style="color: #000066;">ScrollingEnabled</span>=<span style="color: #ff0000;">"False"</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>
&nbsp;
    <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;vc:Chart.Legends<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
      <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;vc:Legend</span> <span style="color: #000066;">Enabled</span>=<span style="color: #ff0000;">"False"</span><span style="color: #000000; font-weight: bold;">/&gt;</span></span>
    <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/vc:Chart.Legends<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
&nbsp;
    <span style="color: #808080; font-style: italic;">&lt;!-- the series used to render the RGB components --&gt;</span>
    <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;vc:Chart.Series<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
      <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;vc:DataSeries</span> <span style="color: #000066;">RenderAs</span>=<span style="color: #ff0000;">"QuickLine"</span></span>
<span style="color: #009900;">                      <span style="color: #000066;">Color</span>=<span style="color: #ff0000;">"#A00"</span> <span style="color: #000066;">LineThickness</span>=<span style="color: #ff0000;">"1"</span></span>
<span style="color: #009900;">                      <span style="color: #000066;">MarkerEnabled</span>=<span style="color: #ff0000;">"False"</span> <span style="color: #000066;">ShadowEnabled</span>=<span style="color: #ff0000;">"False"</span> <span style="color: #000000; font-weight: bold;">/&gt;</span></span>
      <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;vc:DataSeries</span> <span style="color: #000066;">RenderAs</span>=<span style="color: #ff0000;">"QuickLine"</span></span>
<span style="color: #009900;">                      <span style="color: #000066;">Color</span>=<span style="color: #ff0000;">"#0A0"</span> <span style="color: #000066;">LineThickness</span>=<span style="color: #ff0000;">"1"</span></span>
<span style="color: #009900;">                      <span style="color: #000066;">MarkerEnabled</span>=<span style="color: #ff0000;">"False"</span> <span style="color: #000066;">ShadowEnabled</span>=<span style="color: #ff0000;">"False"</span> <span style="color: #000000; font-weight: bold;">/&gt;</span></span>
      <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;vc:DataSeries</span> <span style="color: #000066;">RenderAs</span>=<span style="color: #ff0000;">"QuickLine"</span></span>
<span style="color: #009900;">                      <span style="color: #000066;">Color</span>=<span style="color: #ff0000;">"#00A"</span> <span style="color: #000066;">LineThickness</span>=<span style="color: #ff0000;">"1"</span></span>
<span style="color: #009900;">                      <span style="color: #000066;">MarkerEnabled</span>=<span style="color: #ff0000;">"False"</span> <span style="color: #000066;">ShadowEnabled</span>=<span style="color: #ff0000;">"False"</span> <span style="color: #000000; font-weight: bold;">/&gt;</span></span>
    <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/vc:Chart.Series<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
&nbsp;
    <span style="color: #808080; font-style: italic;">&lt;!-- a 'hidden' X axis --&gt;</span>
    <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;vc:Chart.AxesX<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
      <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;vc:Axis</span> <span style="color: #000066;">Enabled</span>=<span style="color: #ff0000;">"False"</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>
        <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;vc:Axis.Grids<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
          <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;vc:ChartGrid</span> <span style="color: #000066;">Enabled</span>=<span style="color: #ff0000;">"True"</span></span>
<span style="color: #009900;">                        <span style="color: #000066;">LineColor</span>=<span style="color: #ff0000;">"#ddd"</span> <span style="color: #000066;">LineThickness</span>=<span style="color: #ff0000;">"1"</span><span style="color: #000000; font-weight: bold;">/&gt;</span></span>
        <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/vc:Axis.Grids<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
      <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/vc:Axis<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
    <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/vc:Chart.AxesX<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
&nbsp;
    <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;vc:Chart.PlotArea<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
      <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;vc:PlotArea</span> <span style="color: #000066;">ShadowEnabled</span>=<span style="color: #ff0000;">"False"</span><span style="color: #000000; font-weight: bold;">/&gt;</span></span>
    <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/vc:Chart.PlotArea<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
  <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/vc:Chart<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/Grid<span style="color: #000000; font-weight: bold;">&gt;</span></span></span></pre></td></tr></table></div><p>The code-behind required to add data to the chart is straightforward. However, you cannot simply create a new <code>DataPointCollection</code> and replace the current <code>Series.DataPoints</code>, instead you have to <a href="http://www.visifire.com/forums/index.php?showtopic=2315">clear the existing collection, then rebuild it</a>.</p><div class="wp_syntax"><table><tr><td class="code"><pre class="csharp" style="font-family: monospace;"><span style="color: #0600FF; font-weight: bold;">protected</span> <span style="color: #0600FF; font-weight: bold;">override</span> <span style="color: #6666cc; font-weight: bold;">void</span> RenderDataToChart<span style="color: #008000;">(</span>List<span style="color: #008000;">&lt;</span>List<span style="color: #008000;">&lt;</span>Histogram<span style="color: #008000;">.</span><span style="color: #0000FF;">DataPoint</span><span style="color: #008000;">&gt;&gt;</span> rgbData<span style="color: #008000;">)</span>
<span style="color: #008000;">{</span>
  AddDataToSeries<span style="color: #008000;">(</span>_chart<span style="color: #008000;">.</span><span style="color: #0000FF;">Chart</span><span style="color: #008000;">.</span><span style="color: #0000FF;">Series</span><span style="color: #008000;">[</span><span style="color: #FF0000;">0</span><span style="color: #008000;">]</span>, rgbData<span style="color: #008000;">[</span><span style="color: #FF0000;">0</span><span style="color: #008000;">]</span><span style="color: #008000;">)</span><span style="color: #008000;">;</span>
  AddDataToSeries<span style="color: #008000;">(</span>_chart<span style="color: #008000;">.</span><span style="color: #0000FF;">Chart</span><span style="color: #008000;">.</span><span style="color: #0000FF;">Series</span><span style="color: #008000;">[</span><span style="color: #FF0000;">1</span><span style="color: #008000;">]</span>, rgbData<span style="color: #008000;">[</span><span style="color: #FF0000;">1</span><span style="color: #008000;">]</span><span style="color: #008000;">)</span><span style="color: #008000;">;</span>
  AddDataToSeries<span style="color: #008000;">(</span>_chart<span style="color: #008000;">.</span><span style="color: #0000FF;">Chart</span><span style="color: #008000;">.</span><span style="color: #0000FF;">Series</span><span style="color: #008000;">[</span><span style="color: #FF0000;">2</span><span style="color: #008000;">]</span>, rgbData<span style="color: #008000;">[</span><span style="color: #FF0000;">2</span><span style="color: #008000;">]</span><span style="color: #008000;">)</span><span style="color: #008000;">;</span>
<span style="color: #008000;">}</span>
&nbsp;
<span style="color: #0600FF; font-weight: bold;">private</span> <span style="color: #6666cc; font-weight: bold;">void</span> AddDataToSeries<span style="color: #008000;">(</span>DataSeries series, List<span style="color: #008000;">&lt;</span>Histogram<span style="color: #008000;">.</span><span style="color: #0000FF;">DataPoint</span><span style="color: #008000;">&gt;</span> list<span style="color: #008000;">)</span>
<span style="color: #008000;">{</span>
  series<span style="color: #008000;">.</span><span style="color: #0000FF;">DataPoints</span><span style="color: #008000;">.</span><span style="color: #0000FF;">Clear</span><span style="color: #008000;">(</span><span style="color: #008000;">)</span><span style="color: #008000;">;</span>
  <span style="color: #0600FF; font-weight: bold;">foreach</span> <span style="color: #008000;">(</span><span style="color: #0600FF; font-weight: bold;">var</span> pt <span style="color: #0600FF; font-weight: bold;">in</span> list<span style="color: #008000;">)</span>
  <span style="color: #008000;">{</span>
    series<span style="color: #008000;">.</span><span style="color: #0000FF;">DataPoints</span><span style="color: #008000;">.</span><span style="color: #0600FF; font-weight: bold;">Add</span><span style="color: #008000;">(</span><span style="color: #008000;">new</span> Visifire<span style="color: #008000;">.</span><span style="color: #0000FF;">Charts</span><span style="color: #008000;">.</span><span style="color: #0000FF;">DataPoint</span><span style="color: #008000;">(</span><span style="color: #008000;">)</span>
    <span style="color: #008000;">{</span>
      XValue <span style="color: #008000;">=</span> pt<span style="color: #008000;">.</span><span style="color: #0000FF;">Location</span>,
      YValue <span style="color: #008000;">=</span> pt<span style="color: #008000;">.</span><span style="color: #0000FF;">Intensity</span>
    <span style="color: #008000;">}</span><span style="color: #008000;">)</span><span style="color: #008000;">;</span>
  <span style="color: #008000;">}</span>
<span style="color: #008000;">}</span></pre></td></tr></table></div><h2>Silverlight Toolkit</h2><p>The Silverlight Toolkit XAML is quite verbose, mostly due to the performance enhancements described in my <a href="{{ site.url }}/blog/colin/2010/11/visiblox-charts-vs-silverlight-toolkit-charts-a-test-of-performance-2/">previous blog post</a>.</p><div class="wp_syntax"><table><tr><td class="code"><pre class="xml" style="font-family: monospace;"><span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;UserControl.Resources<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
  <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;Style</span> <span style="color: #000066;">TargetType</span>=<span style="color: #ff0000;">"dataVis:Legend"</span> <span style="color: #000066;">x:Key</span>=<span style="color: #ff0000;">"CollapsedLegendStyle"</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>
    <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;Setter</span> <span style="color: #000066;">Property</span>=<span style="color: #ff0000;">"Visibility"</span> <span style="color: #000066;">Value</span>=<span style="color: #ff0000;">"Collapsed"</span><span style="color: #000000; font-weight: bold;">/&gt;</span></span>
    <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;Setter</span> <span style="color: #000066;">Property</span>=<span style="color: #ff0000;">"Width"</span> <span style="color: #000066;">Value</span>=<span style="color: #ff0000;">"0"</span><span style="color: #000000; font-weight: bold;">/&gt;</span></span>
  <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/Style<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
&nbsp;
  <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;Style</span> <span style="color: #000066;">TargetType</span>=<span style="color: #ff0000;">"Control"</span> <span style="color: #000066;">x:Key</span>=<span style="color: #ff0000;">"CollapsedStyle"</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>
    <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;Setter</span> <span style="color: #000066;">Property</span>=<span style="color: #ff0000;">"Visibility"</span> <span style="color: #000066;">Value</span>=<span style="color: #ff0000;">"Collapsed"</span><span style="color: #000000; font-weight: bold;">/&gt;</span></span>
  <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/Style<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
&nbsp;
  <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;ControlTemplate</span> <span style="color: #000066;">x:Key</span>=<span style="color: #ff0000;">"SimplifiedDataPoint"</span> <span style="color: #000066;">TargetType</span>=<span style="color: #ff0000;">"tk:LineDataPoint"</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>
  <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/ControlTemplate<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/UserControl.Resources<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
&nbsp;
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;Grid</span> <span style="color: #000066;">x:Name</span>=<span style="color: #ff0000;">"LayoutRoot"</span> <span style="color: #000066;">Background</span>=<span style="color: #ff0000;">"White"</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>
  <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;tk:Chart</span> <span style="color: #000066;">x:Name</span>=<span style="color: #ff0000;">"chart"</span></span>
<span style="color: #009900;">        <span style="color: #000066;">LegendStyle</span>=<span style="color: #ff0000;">"{StaticResource CollapsedLegendStyle}"</span></span>
<span style="color: #009900;">        <span style="color: #000066;">TitleStyle</span>=<span style="color: #ff0000;">"{StaticResource CollapsedStyle}"</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>
&nbsp;
    <span style="color: #808080; font-style: italic;">&lt;!-- define the line series --&gt;</span>
    <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;tk:LineSeries</span> <span style="color: #000066;">ItemsSource</span>=<span style="color: #ff0000;">"{Binding}"</span>   </span>
<span style="color: #009900;">                <span style="color: #000066;">TransitionDuration</span>=<span style="color: #ff0000;">"0"</span></span>
<span style="color: #009900;">                <span style="color: #000066;">DependentValueBinding</span>=<span style="color: #ff0000;">"{Binding Intensity}"</span> </span>
<span style="color: #009900;">                <span style="color: #000066;">IndependentValueBinding</span>=<span style="color: #ff0000;">"{Binding Location}"</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>
      <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;tk:LineSeries.DataPointStyle<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
        <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;Style</span> <span style="color: #000066;">TargetType</span>=<span style="color: #ff0000;">"tk:LineDataPoint"</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>
          <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;Setter</span> <span style="color: #000066;">Property</span>=<span style="color: #ff0000;">"Visibility"</span> <span style="color: #000066;">Value</span>=<span style="color: #ff0000;">"Collapsed"</span><span style="color: #000000; font-weight: bold;">/&gt;</span></span>
          <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;Setter</span> <span style="color: #000066;">Property</span>=<span style="color: #ff0000;">"Template"</span> <span style="color: #000066;">Value</span>=<span style="color: #ff0000;">"{StaticResource SimplifiedDataPoint}"</span><span style="color: #000000; font-weight: bold;">/&gt;</span></span>
          <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;Setter</span> <span style="color: #000066;">Property</span>=<span style="color: #ff0000;">"Background"</span> <span style="color: #000066;">Value</span>=<span style="color: #ff0000;">"#A00"</span><span style="color: #000000; font-weight: bold;">/&gt;</span></span>
        <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/Style<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
      <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/tk:LineSeries.DataPointStyle<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
    <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/tk:LineSeries<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
&nbsp;
    <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;tk:LineSeries</span> <span style="color: #000066;">ItemsSource</span>=<span style="color: #ff0000;">"{Binding}"</span>   </span>
<span style="color: #009900;">                <span style="color: #000066;">TransitionDuration</span>=<span style="color: #ff0000;">"0"</span></span>
<span style="color: #009900;">                <span style="color: #000066;">DependentValueBinding</span>=<span style="color: #ff0000;">"{Binding Intensity}"</span> </span>
<span style="color: #009900;">                <span style="color: #000066;">IndependentValueBinding</span>=<span style="color: #ff0000;">"{Binding Location}"</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>
      <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;tk:LineSeries.DataPointStyle<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
        <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;Style</span> <span style="color: #000066;">TargetType</span>=<span style="color: #ff0000;">"tk:LineDataPoint"</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>
          <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;Setter</span> <span style="color: #000066;">Property</span>=<span style="color: #ff0000;">"Visibility"</span> <span style="color: #000066;">Value</span>=<span style="color: #ff0000;">"Collapsed"</span><span style="color: #000000; font-weight: bold;">/&gt;</span></span>
          <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;Setter</span> <span style="color: #000066;">Property</span>=<span style="color: #ff0000;">"Template"</span> <span style="color: #000066;">Value</span>=<span style="color: #ff0000;">"{StaticResource SimplifiedDataPoint}"</span><span style="color: #000000; font-weight: bold;">/&gt;</span></span>
          <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;Setter</span> <span style="color: #000066;">Property</span>=<span style="color: #ff0000;">"Background"</span> <span style="color: #000066;">Value</span>=<span style="color: #ff0000;">"#0A0"</span><span style="color: #000000; font-weight: bold;">/&gt;</span></span>
        <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/Style<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
      <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/tk:LineSeries.DataPointStyle<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
    <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/tk:LineSeries<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
&nbsp;
    <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;tk:LineSeries</span> <span style="color: #000066;">ItemsSource</span>=<span style="color: #ff0000;">"{Binding}"</span>   </span>
<span style="color: #009900;">                <span style="color: #000066;">TransitionDuration</span>=<span style="color: #ff0000;">"0"</span></span>
<span style="color: #009900;">                <span style="color: #000066;">DependentValueBinding</span>=<span style="color: #ff0000;">"{Binding Intensity}"</span> </span>
<span style="color: #009900;">                <span style="color: #000066;">IndependentValueBinding</span>=<span style="color: #ff0000;">"{Binding Location}"</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>
      <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;tk:LineSeries.DataPointStyle<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
        <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;Style</span> <span style="color: #000066;">TargetType</span>=<span style="color: #ff0000;">"tk:LineDataPoint"</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>
          <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;Setter</span> <span style="color: #000066;">Property</span>=<span style="color: #ff0000;">"Visibility"</span> <span style="color: #000066;">Value</span>=<span style="color: #ff0000;">"Collapsed"</span><span style="color: #000000; font-weight: bold;">/&gt;</span></span>
          <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;Setter</span> <span style="color: #000066;">Property</span>=<span style="color: #ff0000;">"Template"</span> <span style="color: #000066;">Value</span>=<span style="color: #ff0000;">"{StaticResource SimplifiedDataPoint}"</span><span style="color: #000000; font-weight: bold;">/&gt;</span></span>
          <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;Setter</span> <span style="color: #000066;">Property</span>=<span style="color: #ff0000;">"Background"</span> <span style="color: #000066;">Value</span>=<span style="color: #ff0000;">"#00A"</span><span style="color: #000000; font-weight: bold;">/&gt;</span></span>
        <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/Style<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
      <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/tk:LineSeries.DataPointStyle<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
    <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/tk:LineSeries<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
&nbsp;
    <span style="color: #808080; font-style: italic;">&lt;!-- configure the axes --&gt;</span>
    <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;tk:Chart.Axes<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
      <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;tk:LinearAxis</span> <span style="color: #000066;">Orientation</span>=<span style="color: #ff0000;">"X"</span> <span style="color: #000066;">Height</span>=<span style="color: #ff0000;">"0"</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>
      <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/tk:LinearAxis<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
    <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/tk:Chart.Axes<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
  <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/tk:Chart<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/Grid<span style="color: #000000; font-weight: bold;">&gt;</span></span></span></pre></td></tr></table></div><p>However, the code-behind is the most concise of all the charts I tested because the chart databinds directly to the properties of the <code>DataPoint</code> business objects.</p><div class="wp_syntax"><table><tr><td class="code"><pre class="csharp" style="font-family: monospace;"><span style="color: #0600FF; font-weight: bold;">protected</span> <span style="color: #0600FF; font-weight: bold;">override</span> <span style="color: #6666cc; font-weight: bold;">void</span> RenderDataToChart<span style="color: #008000;">(</span>List<span style="color: #008000;">&lt;</span>List<span style="color: #008000;">&lt;</span>DataPoint<span style="color: #008000;">&gt;&gt;</span> rgbData<span style="color: #008000;">)</span>
<span style="color: #008000;">{</span>
  <span style="color: #008000;">(</span><span style="color: #008000;">(</span>LineSeries<span style="color: #008000;">)</span>_chart<span style="color: #008000;">.</span><span style="color: #0000FF;">Chart</span><span style="color: #008000;">.</span><span style="color: #0000FF;">Series</span><span style="color: #008000;">[</span><span style="color: #FF0000;">0</span><span style="color: #008000;">]</span><span style="color: #008000;">)</span><span style="color: #008000;">.</span><span style="color: #0000FF;">ItemsSource</span> <span style="color: #008000;">=</span> rgbData<span style="color: #008000;">[</span><span style="color: #FF0000;">0</span><span style="color: #008000;">]</span><span style="color: #008000;">;</span>
  <span style="color: #008000;">(</span><span style="color: #008000;">(</span>LineSeries<span style="color: #008000;">)</span>_chart<span style="color: #008000;">.</span><span style="color: #0000FF;">Chart</span><span style="color: #008000;">.</span><span style="color: #0000FF;">Series</span><span style="color: #008000;">[</span><span style="color: #FF0000;">1</span><span style="color: #008000;">]</span><span style="color: #008000;">)</span><span style="color: #008000;">.</span><span style="color: #0000FF;">ItemsSource</span> <span style="color: #008000;">=</span> rgbData<span style="color: #008000;">[</span><span style="color: #FF0000;">1</span><span style="color: #008000;">]</span><span style="color: #008000;">;</span>
  <span style="color: #008000;">(</span><span style="color: #008000;">(</span>LineSeries<span style="color: #008000;">)</span>_chart<span style="color: #008000;">.</span><span style="color: #0000FF;">Chart</span><span style="color: #008000;">.</span><span style="color: #0000FF;">Series</span><span style="color: #008000;">[</span><span style="color: #FF0000;">2</span><span style="color: #008000;">]</span><span style="color: #008000;">)</span><span style="color: #008000;">.</span><span style="color: #0000FF;">ItemsSource</span> <span style="color: #008000;">=</span> rgbData<span style="color: #008000;">[</span><span style="color: #FF0000;">2</span><span style="color: #008000;">]</span><span style="color: #008000;">;</span>
<span style="color: #008000;">}</span></pre></td></tr></table></div><h2>Dynamic Data Display</h2><p>The D<sub>3</sub> charts are quite different to the others which I have tested. These charts were developed by a Microsoft team based in Russia and are released on codeplex. They claim outstanding performance with large volumes of data, and are often recommended on sites such as stackoverflow when questions relating to <a href="http://stackoverflow.com/questions/428425/recommendation-for-high-performance-wpf-chart">charting performance arise</a>.</p><p>The XAML markup for the D<sub>3</sub> charts is pretty minimal!</p><div class="wp_syntax"><table><tr><td class="code"><pre class="xml" style="font-family: monospace;"><span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;Grid</span> <span style="color: #000066;">x:Name</span>=<span style="color: #ff0000;">"LayoutRoot"</span> <span style="color: #000066;">Background</span>=<span style="color: #ff0000;">"White"</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>
  <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;d3:ChartPlotter</span> <span style="color: #000066;">Name</span>=<span style="color: #ff0000;">"plotter"</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>
  <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/d3:ChartPlotter<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/Grid<span style="color: #000000; font-weight: bold;">&gt;</span></span></span></pre></td></tr></table></div><p>However, this is because the D<sub>3</sub> charts do not support configuration via markup. It took me quite a while to work out how to configure the charts in code-behind, the  D<sub>3</sub> APIs are not very intuitive. I am not the only one to have noticed this; Lee Campbell, in his “<a href="http://leecampbell.blogspot.com/2010/01/my-wpf-charting-comparisons.html">WPF Charting Comparisons</a>” blog post stated ” … it took me hours of reading forums, looking at samples and coding to just get my Model showing on the screen”. Oh dear!</p><p>I had to resort to navigating the visual tree (using<a href="{{ site.url }}/blog/colin/2010/03/linq-to-visual-tree/"> Linq to VisualTree</a>) to locate the pan and zoom controls which are added to the chart by default, and remove them.</p><p>However, in fairness, the <a href="http://dynamicdatadisplay.codeplex.com/wikipage?title=DynamicDataDisplay%20Silverlight&amp;referringTitle=Home">Silverlight version of D<sub>3</sub> charts</a> is a partial port of the WPF version, but both share a similar programmatic style of usage. </p><p>The following code is used to configure the chart in code-behind:</p><div class="wp_syntax"><table><tr><td class="code"><pre class="csharp" style="font-family: monospace;"><span style="color: #0600FF; font-weight: bold;">public</span> DDDChart<span style="color: #008000;">(</span><span style="color: #008000;">)</span>
<span style="color: #008000;">{</span>
  InitializeComponent<span style="color: #008000;">(</span><span style="color: #008000;">)</span><span style="color: #008000;">;</span>
&nbsp;
  <span style="color: #0600FF; font-weight: bold;">this</span><span style="color: #008000;">.</span><span style="color: #0000FF;">Loaded</span> <span style="color: #008000;">+=</span> <span style="color: #008000;">new</span> RoutedEventHandler<span style="color: #008000;">(</span>DDDChart_Loaded<span style="color: #008000;">)</span><span style="color: #008000;">;</span>
<span style="color: #008000;">}</span>
&nbsp;
<span style="color: #0600FF; font-weight: bold;">private</span> LineGraph InitGraph<span style="color: #008000;">(</span>Color color<span style="color: #008000;">)</span>
<span style="color: #008000;">{</span>
  <span style="color: #0600FF; font-weight: bold;">var</span> animatedX <span style="color: #008000;">=</span> <span style="color: #008000;">new</span> List<span style="color: #008000;">&lt;</span><span style="color: #6666cc; font-weight: bold;">double</span><span style="color: #008000;">&gt;</span><span style="color: #008000;">(</span><span style="color: #008000;">)</span><span style="color: #008000;">;</span>
  <span style="color: #0600FF; font-weight: bold;">var</span> animatedY <span style="color: #008000;">=</span> <span style="color: #008000;">new</span> List<span style="color: #008000;">&lt;</span><span style="color: #6666cc; font-weight: bold;">double</span><span style="color: #008000;">&gt;</span><span style="color: #008000;">(</span><span style="color: #008000;">)</span><span style="color: #008000;">;</span>
&nbsp;
  <span style="color: #008080; font-style: italic;">// add some points, otherwise we get some layout-related exception</span>
  animatedX<span style="color: #008000;">.</span><span style="color: #0600FF; font-weight: bold;">Add</span><span style="color: #008000;">(</span><span style="color: #FF0000;">0</span><span style="color: #008000;">)</span><span style="color: #008000;">;</span>
  animatedY<span style="color: #008000;">.</span><span style="color: #0600FF; font-weight: bold;">Add</span><span style="color: #008000;">(</span><span style="color: #FF0000;">0</span><span style="color: #008000;">)</span><span style="color: #008000;">;</span>
&nbsp;
  <span style="color: #008080; font-style: italic;">// create the X &amp; Y sources</span>
  _xSource <span style="color: #008000;">=</span> <span style="color: #008000;">new</span> EnumerableDataSource<span style="color: #008000;">&lt;</span><span style="color: #6666cc; font-weight: bold;">double</span><span style="color: #008000;">&gt;</span><span style="color: #008000;">(</span>animatedX<span style="color: #008000;">)</span><span style="color: #008000;">;</span>
  _xSource<span style="color: #008000;">.</span><span style="color: #0000FF;">SetXMapping</span><span style="color: #008000;">(</span>x <span style="color: #008000;">=&gt;</span> x<span style="color: #008000;">)</span><span style="color: #008000;">;</span>
  _ySource <span style="color: #008000;">=</span> <span style="color: #008000;">new</span> EnumerableDataSource<span style="color: #008000;">&lt;</span><span style="color: #6666cc; font-weight: bold;">double</span><span style="color: #008000;">&gt;</span><span style="color: #008000;">(</span>animatedY<span style="color: #008000;">)</span><span style="color: #008000;">;</span>
  _ySource<span style="color: #008000;">.</span><span style="color: #0000FF;">SetYMapping</span><span style="color: #008000;">(</span>y <span style="color: #008000;">=&gt;</span> y<span style="color: #008000;">)</span><span style="color: #008000;">;</span>
&nbsp;
  <span style="color: #008080; font-style: italic;">// Adding graph to plotter</span>
  <span style="color: #0600FF; font-weight: bold;">var</span> graph <span style="color: #008000;">=</span> <span style="color: #008000;">new</span> LineGraph<span style="color: #008000;">(</span><span style="color: #008000;">new</span> CompositeDataSource<span style="color: #008000;">(</span>_xSource, _ySource<span style="color: #008000;">)</span>, <span style="color: #666666;">""</span><span style="color: #008000;">)</span><span style="color: #008000;">;</span>
  graph<span style="color: #008000;">.</span><span style="color: #0000FF;">LineColor</span> <span style="color: #008000;">=</span> color<span style="color: #008000;">;</span>
  graph<span style="color: #008000;">.</span><span style="color: #0000FF;">LineThickness</span> <span style="color: #008000;">=</span> <span style="color: #FF0000;">1</span><span style="color: #008000;">;</span>
  plotter<span style="color: #008000;">.</span><span style="color: #0000FF;">Children</span><span style="color: #008000;">.</span><span style="color: #0600FF; font-weight: bold;">Add</span><span style="color: #008000;">(</span>graph<span style="color: #008000;">)</span><span style="color: #008000;">;</span>
&nbsp;
  <span style="color: #0600FF; font-weight: bold;">return</span> graph<span style="color: #008000;">;</span>
<span style="color: #008000;">}</span>
&nbsp;
<span style="color: #0600FF; font-weight: bold;">private</span> <span style="color: #6666cc; font-weight: bold;">void</span> DDDChart_Loaded<span style="color: #008000;">(</span><span style="color: #6666cc; font-weight: bold;">object</span> sender, RoutedEventArgs e<span style="color: #008000;">)</span>
<span style="color: #008000;">{</span>
  <span style="color: #008080; font-style: italic;">// remove the mouse pan and zoom controls</span>
  <span style="color: #0600FF; font-weight: bold;">var</span> navigationControl <span style="color: #008000;">=</span> plotter<span style="color: #008000;">.</span><span style="color: #0000FF;">Children</span><span style="color: #008000;">.</span><span style="color: #0000FF;">OfType</span><span style="color: #008000;">&lt;</span>MouseNavigation<span style="color: #008000;">&gt;</span><span style="color: #008000;">(</span><span style="color: #008000;">)</span><span style="color: #008000;">.</span><span style="color: #0000FF;">Single</span><span style="color: #008000;">(</span><span style="color: #008000;">)</span><span style="color: #008000;">;</span>
  plotter<span style="color: #008000;">.</span><span style="color: #0000FF;">Children</span><span style="color: #008000;">.</span><span style="color: #0600FF; font-weight: bold;">Remove</span><span style="color: #008000;">(</span>navigationControl<span style="color: #008000;">)</span><span style="color: #008000;">;</span>
&nbsp;
  <span style="color: #0600FF; font-weight: bold;">var</span> zoomControl <span style="color: #008000;">=</span> plotter<span style="color: #008000;">.</span><span style="color: #0000FF;">Descendants</span><span style="color: #008000;">(</span><span style="color: #008000;">)</span><span style="color: #008000;">.</span><span style="color: #0000FF;">OfType</span><span style="color: #008000;">&lt;</span>buttonsNavigation<span style="color: #008000;">&gt;</span><span style="color: #008000;">(</span><span style="color: #008000;">)</span><span style="color: #008000;">.</span><span style="color: #0000FF;">Single</span><span style="color: #008000;">(</span><span style="color: #008000;">)</span><span style="color: #008000;">;</span>
  <span style="color: #008000;">(</span><span style="color: #008000;">(</span>Panel<span style="color: #008000;">)</span>zoomControl<span style="color: #008000;">.</span><span style="color: #0000FF;">Ancestors</span><span style="color: #008000;">(</span><span style="color: #008000;">)</span><span style="color: #008000;">.</span><span style="color: #0000FF;">First</span><span style="color: #008000;">(</span><span style="color: #008000;">)</span><span style="color: #008000;">)</span><span style="color: #008000;">.</span><span style="color: #0000FF;">Children</span><span style="color: #008000;">.</span><span style="color: #0600FF; font-weight: bold;">Remove</span><span style="color: #008000;">(</span>zoomControl<span style="color: #008000;">)</span><span style="color: #008000;">;</span>
&nbsp;
  _graphOne <span style="color: #008000;">=</span> InitGraph<span style="color: #008000;">(</span>Color<span style="color: #008000;">.</span><span style="color: #0000FF;">FromArgb</span><span style="color: #008000;">(</span><span style="color: #FF0000;">255</span>,<span style="color: #FF0000;">200</span>,<span style="color: #FF0000;">0</span>,<span style="color: #FF0000;">0</span><span style="color: #008000;">)</span><span style="color: #008000;">)</span><span style="color: #008000;">;</span>
  _graphTwo <span style="color: #008000;">=</span> InitGraph<span style="color: #008000;">(</span>Color<span style="color: #008000;">.</span><span style="color: #0000FF;">FromArgb</span><span style="color: #008000;">(</span><span style="color: #FF0000;">255</span>, <span style="color: #FF0000;">0</span>, <span style="color: #FF0000;">200</span>, <span style="color: #FF0000;">0</span><span style="color: #008000;">)</span><span style="color: #008000;">)</span><span style="color: #008000;">;</span>
  _graphThree <span style="color: #008000;">=</span> InitGraph<span style="color: #008000;">(</span>Color<span style="color: #008000;">.</span><span style="color: #0000FF;">FromArgb</span><span style="color: #008000;">(</span><span style="color: #FF0000;">255</span>, <span style="color: #FF0000;">0</span>, <span style="color: #FF0000;">0</span>, <span style="color: #FF0000;">200</span><span style="color: #008000;">)</span><span style="color: #008000;">)</span><span style="color: #008000;">;</span>
&nbsp;
  <span style="color: #008080; font-style: italic;">// Force everything plotted to be visible</span>
  plotter<span style="color: #008000;">.</span><span style="color: #0000FF;">FitToView</span><span style="color: #008000;">(</span><span style="color: #008000;">)</span><span style="color: #008000;">;</span>
&nbsp;
  plotter<span style="color: #008000;">.</span><span style="color: #0000FF;">Legend</span><span style="color: #008000;">.</span><span style="color: #0000FF;">Visibility</span> <span style="color: #008000;">=</span> Visibility<span style="color: #008000;">.</span><span style="color: #0000FF;">Collapsed</span><span style="color: #008000;">;</span>
&nbsp;
<span style="color: #008000;">}</span></pre></td></tr></table></div><p>The following code is used to change the data for each series. Again, the D<sub>3</sub> APIs are a little complex. Also, the chart does not have a mode where the X &amp; Y axes compute their range based on the data. Instead, this is performed programatically via <code>FitToView</code>.</p><div class="wp_syntax"><table><tr><td class="code"><pre class="csharp" style="font-family: monospace;"><span style="color: #0600FF; font-weight: bold;">protected</span> <span style="color: #0600FF; font-weight: bold;">override</span> <span style="color: #6666cc; font-weight: bold;">void</span> RenderDataToChart<span style="color: #008000;">(</span>List<span style="color: #008000;">&lt;</span>List<span style="color: #008000;">&lt;</span>DataPoint<span style="color: #008000;">&gt;&gt;</span> rgbData<span style="color: #008000;">)</span>
<span style="color: #008000;">{</span>
  RenderDataToGraph<span style="color: #008000;">(</span>_chart<span style="color: #008000;">.</span><span style="color: #0000FF;">LineGraphR</span>, rgbData<span style="color: #008000;">[</span><span style="color: #FF0000;">0</span><span style="color: #008000;">]</span><span style="color: #008000;">)</span><span style="color: #008000;">;</span>
  RenderDataToGraph<span style="color: #008000;">(</span>_chart<span style="color: #008000;">.</span><span style="color: #0000FF;">LineGraphG</span>, rgbData<span style="color: #008000;">[</span><span style="color: #FF0000;">1</span><span style="color: #008000;">]</span><span style="color: #008000;">)</span><span style="color: #008000;">;</span>
  RenderDataToGraph<span style="color: #008000;">(</span>_chart<span style="color: #008000;">.</span><span style="color: #0000FF;">LineGraphB</span>, rgbData<span style="color: #008000;">[</span><span style="color: #FF0000;">2</span><span style="color: #008000;">]</span><span style="color: #008000;">)</span><span style="color: #008000;">;</span>
&nbsp;
  <span style="color: #008080; font-style: italic;">// re-scale the chart based on the rendered data</span>
  _chart<span style="color: #008000;">.</span><span style="color: #0000FF;">Plotter</span><span style="color: #008000;">.</span><span style="color: #0000FF;">FitToView</span><span style="color: #008000;">(</span><span style="color: #008000;">)</span><span style="color: #008000;">;</span>
<span style="color: #008000;">}</span>
&nbsp;
<span style="color: #0600FF; font-weight: bold;">private</span> <span style="color: #6666cc; font-weight: bold;">void</span> RenderDataToGraph<span style="color: #008000;">(</span>LineGraph graph, List<span style="color: #008000;">&lt;</span>DataPoint<span style="color: #008000;">&gt;</span> histogram<span style="color: #008000;">)</span>
<span style="color: #008000;">{</span>
  <span style="color: #0600FF; font-weight: bold;">var</span> source <span style="color: #008000;">=</span> graph<span style="color: #008000;">.</span><span style="color: #0000FF;">DataSource</span> <span style="color: #0600FF; font-weight: bold;">as</span> CompositeDataSource<span style="color: #008000;">;</span>
&nbsp;
  <span style="color: #008080; font-style: italic;">// obtain the two sources which the composite is composed of</span>
  <span style="color: #0600FF; font-weight: bold;">var</span> xSource <span style="color: #008000;">=</span> source<span style="color: #008000;">.</span><span style="color: #0000FF;">DataParts</span><span style="color: #008000;">.</span><span style="color: #0000FF;">ElementAt</span><span style="color: #008000;">(</span><span style="color: #FF0000;">0</span><span style="color: #008000;">)</span> <span style="color: #0600FF; font-weight: bold;">as</span> EnumerableDataSource<span style="color: #008000;">&lt;</span><span style="color: #6666cc; font-weight: bold;">double</span><span style="color: #008000;">&gt;;</span>
  <span style="color: #0600FF; font-weight: bold;">var</span> ySource <span style="color: #008000;">=</span> source<span style="color: #008000;">.</span><span style="color: #0000FF;">DataParts</span><span style="color: #008000;">.</span><span style="color: #0000FF;">ElementAt</span><span style="color: #008000;">(</span><span style="color: #FF0000;">1</span><span style="color: #008000;">)</span> <span style="color: #0600FF; font-weight: bold;">as</span> EnumerableDataSource<span style="color: #008000;">&lt;</span><span style="color: #6666cc; font-weight: bold;">double</span><span style="color: #008000;">&gt;;</span>
&nbsp;
  <span style="color: #0600FF; font-weight: bold;">var</span> dataX <span style="color: #008000;">=</span> <span style="color: #008000;">new</span> List<span style="color: #008000;">&lt;</span><span style="color: #6666cc; font-weight: bold;">double</span><span style="color: #008000;">&gt;</span><span style="color: #008000;">(</span><span style="color: #008000;">)</span><span style="color: #008000;">;</span>
  <span style="color: #0600FF; font-weight: bold;">var</span> dataY <span style="color: #008000;">=</span> <span style="color: #008000;">new</span> List<span style="color: #008000;">&lt;</span><span style="color: #6666cc; font-weight: bold;">double</span><span style="color: #008000;">&gt;</span><span style="color: #008000;">(</span><span style="color: #008000;">)</span><span style="color: #008000;">;</span>
  <span style="color: #0600FF; font-weight: bold;">foreach</span><span style="color: #008000;">(</span><span style="color: #0600FF; font-weight: bold;">var</span> point <span style="color: #0600FF; font-weight: bold;">in</span> histogram<span style="color: #008000;">)</span>
  <span style="color: #008000;">{</span>
    dataX<span style="color: #008000;">.</span><span style="color: #0600FF; font-weight: bold;">Add</span><span style="color: #008000;">(</span>point<span style="color: #008000;">.</span><span style="color: #0000FF;">Location</span><span style="color: #008000;">)</span><span style="color: #008000;">;</span>
    dataY<span style="color: #008000;">.</span><span style="color: #0600FF; font-weight: bold;">Add</span><span style="color: #008000;">(</span>point<span style="color: #008000;">.</span><span style="color: #0000FF;">Intensity</span><span style="color: #008000;">)</span><span style="color: #008000;">;</span>
  <span style="color: #008000;">}</span>
  xSource<span style="color: #008000;">.</span><span style="color: #0000FF;">Data</span> <span style="color: #008000;">=</span> dataX<span style="color: #008000;">;</span>
  ySource<span style="color: #008000;">.</span><span style="color: #0000FF;">Data</span> <span style="color: #008000;">=</span> dataY<span style="color: #008000;">;</span>
<span style="color: #008000;">}</span></pre></td></tr></table></div><h2>Conclusions</h2><p>In summary, the Visiblox and Visifire charts seem to have the cleanest API, with concise XAML markup to define the charts and little code-behind required to update the series. The Silverlight Toolkit charts XAML markup is a bit verbose, mostly due to performance optimisation. Finally, the D<sub>3</sub> charts have a complex and difficult to follow API. In terms of performance, the Visiblox and D<sub>3</sub> charts give similar results, the Visifire charts are a little behind with, with a frame rate that is approximately 1/3 of the leading charts, and the Silverlight Toolkit charts come last.</p><p>You can download the full sourcecode of this comparison here: <a href="{{ site.url }}/blog/colin/wp-content/uploads/2010/12/ChartPerformance.zip">ChartPerformance.zip</a></p><p>NOTE: To build the examples you need to download the charting components from their respective web pages:</p><ul>
<li><a href="http://www.visiblox.com/">Visiblox</a></li>
<li><a href="http://www.visifire.com/download_silverlight_charts.php">Visifire</a></li>
<li><a href="http://silverlight.codeplex.com/">Silverlight Toolkit</a></li>
<li><a href="http://dynamicdatadisplay.codeplex.com/releases/view/42438">D<sub>3</sub></a></li>
</ul><p>Finally, a couple of my colleagues have created similar charting tests using other technologies, you might be interested in <a href="{{ site.url }}/blog/graham/2010/11/flex-charts-vs-silverlight-charts-a-test-of-performance/">Graham’s Flex implementation</a>, or <a href="{{ site.url }}/blog/chris/2010/11/html5-charts-vs-flex-charts-vs-silverlight-charts-a-test-of-performance/">Chris’s cute HTML5 implementation</a>.</p><p>Regards, Colin E.</p></div>